{% block title %}GAMENEWS - P√°gina Principal{% endblock %}

{% extends 'base.html.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/pagPrin.css') }}">
{% endblock %}

{% block body %}
<main class="contenido-principal">
    <!-- Secci√≥n de bienvenida expandida -->
    <section class="bienvenida-destacada">
        <div class="bienvenida-texto">
            <h1 class="bienvenida-titulo">
                <span class="neon">üéÆ GAMENEWS</span><br>
                <span class="subtitulo">Tu universo gamer en tiempo real</span>
            </h1>
            <p class="bienvenida-descripcion">
                Bienvenido a tu portal de noticias sobre videojuegos. Ac√° vas a encontrar los √∫ltimos lanzamientos, an√°lisis detallados, trucos √∫tiles y todo lo que necesit√°s para mantenerte al d√≠a en el mundo gamer.
            </p>

            <!-- Bloque para el formulario de b√∫squeda -->
    <form method="get" action="{{ path('buscar_contenido') }}">
        <input type="text" name="q" placeholder="Buscar..." value="{{ busqueda ?? '' }}">

        <select name="categoria">
            <option value="">Todas las categor√≠as</option>
            {% for categoria in categorias %}
                <option value="{{ categoria.id }}">{{ categoria.nombre }}</option>
            {% endfor %}
        </select>

        <label>Desde:</label>
        <input type="date" name="desde">

        <label>Hasta:</label>
        <input type="date" name="hasta">

        <button type="submit">Buscar</button>
    </form>

    <!-- T√≠tulo de secci√≥n -->
    <h2 class="seccion-titulo">√öltimas Noticias</h2>

    <!-- Secci√≥n de noticias -->
    <section class="noticias-grid" id="noticias">
        {% for noticia in noticias %}
            <a href="{{ path('app_pagina_noticia', {'id': noticia.id}) }}" class="noticia-card">
                <article class="noticia-content">
                    <img src="{{ asset('images/' ~ noticia.imagen) }}" alt="{{ noticia.titulo }}" class="noticia-img">
                    <div class="noticia-text">
                        <h5 class="noticia-titulo">{{ noticia.titulo }}</h5>
                        <p class="noticia-cuerpo">{{ noticia.cuerpo }}</p>
                    </div>
                    <div class="noticia-meta">
                        <small class="noticia-fecha">{{ noticia.fechaPublicacion|date('d M Y') }}</small><br>
                        <small class="noticia-categoria">
                            Categor√≠a: {{ noticia.categoria ? noticia.categoria.nombre : 'Sin categor√≠a' }}
                        </small><br>
                        <small class="noticia-valoracion">Valoraci√≥n: ‚òÖ {{ noticia.promedioVotos }}</small>
                    </div>
                </article>
            </a>
        {% else %}
            <p class="no-noticias">No hay noticias disponibles.</p>
        {% endfor %}
    </section>
</main>
{% endblock %}

{% block footer %}
    {{ parent() }}
{% endblock %}
