{% extends 'base.html.twig' %}

{% block title %}Editar Usuario{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/admin/gusuarios.css') }}">
{% endblock %}

{% block body %}
<main class="gusuarios-wrapper">
    <h1 class="gusuarios-titulo">ðŸ‘¤ Editar Usuario</h1>

    {# Mensajes flash #}
    {% for message in app.flashes('success') %}
        <div class="alerta-exito">{{ message }}</div>
    {% endfor %}
    {% for message in app.flashes('error') %}
        <div class="alerta-error">{{ message }}</div>
    {% endfor %}

    <form method="post" class="form-gusuarios" action="{{ path('usuario_actualizar', {id: usuario.id}) }}">
        <p class="info-usuario">
            <strong>ID:</strong> {{ usuario.id }} <br>
            <strong>Correo:</strong> {{ usuario.correo }} <br>
            <strong>Nombre de usuario:</strong> {{ usuario.nombreUsuario }}
        </p>

        <div class="campo">
            <label for="rol">Rol</label>
            <select id="rol" name="rol">
                <option value="ROLE_USER" {% if usuario.rol == 'ROLE_USER' %}selected{% endif %}>Usuario</option>
                <option value="ROLE_EDITOR" {% if usuario.rol == 'ROLE_EDITOR' %}selected{% endif %}>Editor</option>
                <option value="ROLE_ADMIN" {% if usuario.rol == 'ROLE_ADMIN' %}selected{% endif %}>Administrador</option>
            </select>
        </div>

        <div class="campo-radio">
            <input type="radio" id="activo" name="activo" value="1" {% if usuario.estado %}checked{% endif %}>
            <label for="activo">Activo</label>
        </div>
        <div class="campo-radio">
            <input type="radio" id="suspendido" name="activo" value="0">
            <label for="suspendido">Suspendido</label>
        </div>

        <div class="acciones">
            <button type="submit" class="btn-guardar">ðŸ’¾ Guardar cambios</button>
            <a href="{{ path('usuarios_listar') }}" class="btn-cancelar">Cancelar</a>
        </div>
    </form>
</main>
{% endblock %}
